# JN5000 Ultimate v3.0 Requirements Document
## Multi-Platform Live Streaming Command Center - Streamlit Single-File Version

## 1. Application Overview

### 1.1 Application Name
JN5000 Ultimate - Multi-Platform Live Streaming Command Center (Streamlit Edition)

### 1.2 Application Description
A single-file Python application built with Streamlit for managing live streaming across multiple platforms (Twitch, YouTube, Kick, TikTok, Facebook) with advanced AI support, real-time translation, and comprehensive viewer analytics. The entire application logic is consolidated into one Python file for easy deployment on Streamlit Cloud.

## 2. Core Features

### 2.1 Main Dashboard
- Advanced text console displaying messages from all platforms
- Color-coded message classification by platform
- Large primary control button to start/stop the system
- Connection status indicators for each platform
- Latency display for each platform
- Streamlit sidebar for navigation between sections
\n### 2.2 Multi-Platform Connection Management
- Platform selection using Streamlit selectbox
- Dynamic input forms based on selected platform:\n  - Twitch: Channel name, OAuth Token\n  - YouTube: API Client ID, Secret, Redirect URI
  - Kick: Channel name, Cookies/API data
  - TikTok: Live Connector data
  - Facebook: Graph API Token
  - Custom RTMP: Server address, Stream Key
- Password visibility toggle using Streamlit checkbox
- Save connection button\n- Connection status display for each platform
- Automatic connection validation system with clear error messages
- Auto-reconnect functionality for disconnected platforms

### 2.3 Profile Management
- Identity information:\n  - Nickname
  - Bio
  - Personal Style: Streamlit selectbox with predefined options:\n    * Serious
    * Friendly
    * Funny
    * Professional
    * Casual
    * Enthusiastic
    * Sarcastic
    * Supportive
- Game search engine:\n  - Searchable selectbox\n  - Display selected game cover image (300x300px)
  - Save current game\n- Social links management:
  - Add/remove dynamic links
  - Supported platforms: YouTube, Twitter/X, Discord, Instagram, TikTok, Facebook\n  - Platform icons display
- Hardware specifications:
  - CPU\n  - GPU
  - RAM
  - Microphone
  - Camera
  - Chair
\n### 2.4 AI Handler
- Support for paid AI models:
  - Groq (Llama-3-70b)\n  - OpenAI (GPT-4o)
  - Claude 3.5 Sonnet
  - Gemini 1.5 Pro
- Support for free AI models:
  - g4f (multiple providers)
  - Local Ollama Integration
- Secure API key input and storage interface
- Advanced Context Injection System:\n  - Use all profile information as comprehensive system message
  - Include nickname, bio, personal style, current game, social links, and hardware specs
  - Make AI act as digital twin of streamer with full knowledge of personal details
  - Ability to answer viewer questions about streamer based on saved information
- Preferred model selection\n- Model connection status display
\n### 2.5 Translation Hub
- Real-time message translation support
- Automatic source language detection
- Target language selection from comprehensive dropdown including all world languages
- Multiple translation engines:\n  - Google Translate
  - MyMemory
  - LibreTranslate
- Enable/disable automatic translation toggle
\n### 2.6 TTS Manager
- Convert viewer messages to speech: Audio reading of incoming viewer messages from all platforms with sender name announcement
- Convert streamer messages to speech: Audio reading of streamer messages sent in chat
- Convert translated messages to speech: Audio reading of messages after translation
- Sequential audio queue system\n- Text cleaning from links and emojis before conversion
- Platform-specific audio alerts
- Volume control\n- Multi-language support: Ability to pronounce texts in different languages based on original message language

### 2.7 Smart Auto-Reply System
- Read viewer messages: Receive and read all viewer messages from all connected platforms
- Message language detection: Automatic identification of viewer message language
- AI message processing: Send message with profile context to selected AI model
- Response generation: Create appropriate response based on:\n  - Viewer message content
  - Streamer profile information
  - Selected personal style
  - General conversation context
- Reply in same language: Automatically send reply in chat in same language as viewer message
- All platforms support: Apply auto-reply system to Twitch, YouTube, Kick, TikTok, Facebook
- Response customization: Enable/disable auto-reply for each platform individually
- Response log: Save all sent responses in database for review and analysis

### 2.8 Analytics & Database
- Viewer tracking:\n  - Username
  - Platform
  - Message count
  - Last appearance\n  - Priority level
  - Points\n- Interactive table for displaying viewer data using Streamlit dataframe
- Refresh data button\n- Export to CSV button
- Clear database button
- Store streamer memory for AI\n- Message and response log storage: Save all viewer messages and AI responses with timestamps

### 2.9 Advanced & Global Settings
- Theme Engine using Streamlit theme configuration:\n  - Dark Theme
  - Emerald Theme
  - Midnight Theme
  - Light Theme
- Comprehensive UI language switching system:\n  - Multi-language support including most common world languages:\n    * Arabic
    * English
    * Spanish
    * Chinese Simplified
    * Chinese Traditional\n    * Hindi
    * French
    * Portuguese
    * Bengali
    * Russian
    * Japanese
    * German
    * Korean
    * Turkish
    * Italian
    * Polish
    * Ukrainian
    * Persian
    * Dutch
    * Thai
    * Vietnamese
    * Indonesian
    * Swedish
    * Greek
    * Czech
    * Romanian
    * Hungarian
    * Danish
    * Finnish
    * Norwegian
  - Instant and comprehensive conversion of all UI elements when changing language
  - Automatic saving of selected language preference
  - Apply saved language when reopening application
- Update system:
  - Check updates button
  - Progress bar display
  - Status message: v3.0.0 - All systems updated
- Notification settings\n- Security and privacy settings

## 3. Technical Requirements

### 3.1 Technology Stack
- Python 3.8+
- Streamlit (latest version)
- Single-file architecture for easy deployment
\n### 3.2 Required Libraries
```python
import streamlit as st
import pandas as pd
import json
import requests
from datetime import datetime
import time
import threading
from collections import defaultdict
import base64
import hashlib
```

### 3.3 External API Libraries
- tmi.py or custom IRC client (for Twitch connection)
- google-api-python-client (for YouTube Live Chat API)
- requests (for Kick, TikTok, Facebook API calls)
- groq (for Groq AI integration)
- openai (for OpenAI GPT-4o)\n- anthropic (for Claude 3.5 Sonnet)
- google-generativeai (for Gemini 1.5 Pro)\n- gTTS or pyttsx3 (for Text-to-Speech)
- googletrans or deep-translator (for translation)
\n### 3.4 Design Requirements
- Use Streamlit native components and styling
- Custom CSS injection for enhanced UI:\n  - Border radius: 15px
  - Padding: 20px
  - Primary background: #1a1a1a
  - Accent color: #3b8ed0
  - Modern Glassmorphism design
- Fully responsive for all screen sizes
- RTL text direction support for Arabic, Persian, and Hebrew
\n## 4. Application Structure

### 4.1 Single-File Organization
The entire application is organized in one Python file with the following sections:

```python
# 1. Imports and Configuration
# 2. Session State Initialization
# 3. Helper Functions
# 4. Platform Connection Classes
# 5. AI Handler Class
# 6. Translation Manager Class
# 7. TTS Manager Class
# 8. Auto-Reply System Class
# 9. Database Manager Class
# 10. Main UI Components
# 11. Page Routing Logic
# 12. Main Application Entry Point
```

### 4.2 Page Navigation
Streamlit sidebar navigation with the following pages:
- Dashboard (Main page)
- Connections\n- Profile\n- AI Settings
- Translation
- Analytics
- Settings
\n## 5. Deployment Instructions

### 5.1 Streamlit Cloud Deployment
1. Create a single Python file named `app.py`
2. Create `requirements.txt` with all necessary dependencies
3. Upload to GitHub repository
4. Connect repository to Streamlit Cloud
5. Deploy with one click

### 5.2 Requirements.txt Content
```\nstreamlit>=1.28.0
pandas>=2.0.0
requests>=2.31.0
groq>=0.4.0
openai>=1.3.0
anthropic>=0.7.0
google-generativeai>=0.3.0
gTTS>=2.4.0
googletrans==4.0.0rc1
tmi.py>=1.0.0
google-api-python-client>=2.0.0\n```

### 5.3 Environment Variables
Set the following secrets in Streamlit Cloud:
- GROQ_API_KEY
- OPENAI_API_KEY
- ANTHROPIC_API_KEY
- GOOGLE_API_KEY
\n## 6. Additional Notes

### 6.1 Security\n- Encrypt saved API keys using base64 encoding
- Secure storage of sensitive data in Streamlit session state
- Input validation for all user inputs
- Use Streamlit secrets management for API keys

### 6.2 Performance
- Use Streamlit caching decorators (@st.cache_data, @st.cache_resource)
- Implement threading for background message processing
- Optimize image loading and display
- Efficient message queue management system

### 6.3 User Experience
- Clear error messages using st.error()
- Confirmations for sensitive operations using st.dialog()
- Loading indicators using st.spinner()
- Smooth transitions between pages
- Instant text updates when changing language
- Real-time notifications using st.toast()
- Clear status indicators for connection and message processing

### 6.4 Accessibility
- Screen reader support through semantic HTML
- Appropriate color contrast\n- Keyboard navigation support
- Text direction support based on selected language
\n### 6.5 Comprehensive Translation System
- Use Python dictionaries for translation management
- Organize translation files by language and page
- Dynamic translation file loading
- Fallback mechanism for untranslated texts
\n### 6.6 Twitch Connection Handling
- OAuth Token validation before connection attempt
- Detailed error messages with clear explanations
- Step-by-step connection guide
- Connection test button before saving data
- Error log for failed connection attempts

### 6.7 Comprehensive Message Processing System
- Read messages from all platforms: Full support for Twitch, YouTube, Kick, TikTok, Facebook
- Unified processing: Single system for processing messages from all platforms
- Automatic language detection for each message
- Reply in same language: Ensure response is sent in original message language
- Voice translation support: Audio reading of messages and responses in all supported languages
\n## 7. Code Structure Example

```python
import streamlit as st

# Session state initialization
if 'connections' not in st.session_state:
    st.session_state.connections = {}
if 'messages' not in st.session_state:
    st.session_state.messages = []
if 'profile' not in st.session_state:
    st.session_state.profile = {}

# Main application\ndef main():
    st.set_page_config(\n        page_title=\"JN5000 Ultimate v3.0\",
        page_icon=\"ðŸŽ®\",
        layout=\"wide\"\n    )
    
    # Sidebar navigation
    page = st.sidebar.selectbox(\n        \"Navigation\",
        [\"Dashboard\", \"Connections\", \"Profile\", \"AI Settings\", \"Translation\", \"Analytics\", \"Settings\"]
    )
    \n    # Page routing
    if page == \"Dashboard\":
        show_dashboard()
    elif page == \"Connections\":
        show_connections()
    # ... other pages
\nif __name__ == \"__main__\":
    main()\n```

## 8. Key Implementation Notes

### 8.1 Message Processing Flow
1. Connect to all platforms using respective APIs
2. Listen for incoming messages in background threads
3. Detect message language automatically
4. Process message through AI with profile context
5. Generate response in same language\n6. Send response back to platform
7. Convert to speech if TTS enabled
8. Log message and response in database

### 8.2 State Management
- Use st.session_state for all application state
- Persist important data using Streamlit file storage
- Implement auto-save functionality
\n### 8.3 Error Handling
- Comprehensive try-except blocks
- User-friendly error messages
- Automatic retry logic for API failures
- Detailed logging for debugging

### 8.4 Real-time Updates
- Use st.rerun() for UI updates
- Implement WebSocket connections where possible
- Background threads for continuous message monitoring
- Efficient state synchronization
